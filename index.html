<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مؤقت تنازلي من 20 يونيو 2025 الساعة 1:58 صباحًا</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=El+Messiri:wght@400;700&family=Reem+Kufi&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6a11cb;
            --secondary: #2575fc;
            --accent: #ff416c;
            --light: #f8f9fa;
            --dark: #121212;
            --success: #4cd964;
            --warning: #ff9500;
            --cairo: #00b4d8;
            --love: #ff6b9d;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--dark) 0%, #1a1a2e 50%, #16213e 100%);
            color: var(--light);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            padding: 40px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(106, 17, 203, 0.1) 0%, transparent 70%);
            z-index: -1;
        }
        
        .header {
            margin-bottom: 50px;
            position: relative;
        }
        
        .date-badge {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, var(--accent), #ff4b2b);
            padding: 8px 25px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 0.9rem;
            box-shadow: 0 5px 15px rgba(255, 65, 108, 0.3);
            z-index: 10;
        }
        
        h1 {
            font-size: 3.2rem;
            margin-bottom: 20px;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 900;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            font-family: 'Reem Kufi', sans-serif;
        }
        
        .subtitle {
            font-size: 1.5rem;
            color: #b8d4e3;
            margin-bottom: 15px;
            font-family: 'El Messiri', serif;
            opacity: 0.9;
        }
        
        .target-date {
            font-size: 2.2rem;
            color: var(--warning);
            background: rgba(255, 149, 0, 0.1);
            padding: 18px 35px;
            border-radius: 50px;
            display: inline-block;
            margin: 30px 0;
            border: 2px solid rgba(255, 149, 0, 0.2);
            font-weight: bold;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            font-family: 'El Messiri', serif;
            direction: ltr;
        }
        
        .time-sections {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
            margin: 40px 0;
        }
        
        .time-section {
            flex: 1;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        
        .time-section-title {
            font-size: 1.8rem;
            margin-bottom: 25px;
            color: var(--light);
            font-weight: 900;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
            font-family: 'Reem Kufi', sans-serif;
        }
        
        .time-section-title i {
            margin-left: 10px;
        }
        
        .cairo-time {
            color: var(--cairo);
        }
        
        .connection-time {
            color: var(--success);
        }
        
        /* قسم رسائل قطتي */
        .love-section {
            margin: 50px 0;
            padding: 40px 30px;
            background: linear-gradient(135deg, rgba(255, 107, 157, 0.15) 0%, rgba(255, 65, 108, 0.1) 100%);
            border-radius: 25px;
            border: 2px solid rgba(255, 107, 157, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .love-section::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100" height="100"><path d="M50,85 C60,75 85,60 85,35 C85,15 65,10 50,25 C35,10 15,15 15,35 C15,60 40,75 50,85 Z" fill="rgba(255,255,255,0.05)"/></svg>');
            background-repeat: space;
            background-size: 40px;
            opacity: 0.3;
            z-index: 0;
        }
        
        .love-title {
            font-size: 2.5rem;
            margin-bottom: 30px;
            color: var(--love);
            font-weight: 900;
            text-shadow: 0 0 15px rgba(255, 107, 157, 0.5);
            position: relative;
            z-index: 1;
            font-family: 'Reem Kufi', sans-serif;
        }
        
        .love-title i {
            color: var(--accent);
            margin-left: 15px;
            animation: heartbeat 1.5s infinite;
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            5% { transform: scale(1.2); }
            10% { transform: scale(1); }
            15% { transform: scale(1.2); }
            20% { transform: scale(1); }
            100% { transform: scale(1); }
        }
        
        .love-message-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 35px 30px;
            margin-bottom: 30px;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.15);
            position: relative;
            z-index: 1;
        }
        
        .love-message {
            font-size: 1.9rem;
            color: #ffd6e0;
            line-height: 1.8;
            font-family: 'Cairo', sans-serif;
            font-weight: 700;
            text-align: center;
            padding: 10px;
            transition: all 0.5s ease;
        }
        
        .love-message::before {
            content: "❤ ";
            color: var(--accent);
            margin-left: 5px;
        }
        
        .love-message::after {
            content: " ❤";
            color: var(--accent);
            margin-right: 5px;
        }
        
        .love-buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
            position: relative;
            z-index: 1;
        }
        
        .love-btn {
            background: linear-gradient(45deg, var(--love), #ff4b8d);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(255, 107, 157, 0.3);
            font-family: 'Cairo', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .love-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(255, 107, 157, 0.4);
            background: linear-gradient(45deg, #ff4b8d, var(--love));
        }
        
        .love-btn:active {
            transform: translateY(-2px);
        }
        
        .love-btn-secondary {
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            box-shadow: 0 8px 20px rgba(106, 17, 203, 0.3);
        }
        
        .love-btn-secondary:hover {
            background: linear-gradient(45deg, #2575fc, #6a11cb);
            box-shadow: 0 15px 30px rgba(106, 17, 203, 0.4);
        }
        
        .cat-icon {
            font-size: 4rem;
            color: var(--love);
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }
        
        .love-footer {
            margin-top: 30px;
            color: #ffb8cb;
            font-size: 1.2rem;
            font-family: 'Cairo', sans-serif;
            position: relative;
            z-index: 1;
        }
        
        /* بقية الأنماط */
        .timer-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
        }
        
        .time-box {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.05), rgba(0, 0, 0, 0.2));
            border-radius: 20px;
            padding: 25px 15px;
            width: 140px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }
        
        .time-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }
        
        .time-box:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1);
        }
        
        .time-value {
            font-size: 3.2rem;
            font-weight: 900;
            color: var(--light);
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            line-height: 1;
            margin-bottom: 10px;
            font-family: 'Reem Kufi', sans-serif;
            background: linear-gradient(45deg, #72efdd, #4cc9f0);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .time-label {
            font-size: 1.2rem;
            color: #a0c8e0;
            font-family: 'El Messiri', serif;
            letter-spacing: 1px;
        }
        
        .digital-clock {
            font-size: 3.5rem;
            font-weight: 900;
            color: var(--cairo);
            text-shadow: 0 0 20px rgba(0, 180, 216, 0.5);
            margin: 20px 0;
            font-family: 'Cairo', monospace;
            direction: ltr;
        }
        
        .digital-date {
            font-size: 1.5rem;
            color: #a0c8e0;
            margin-bottom: 30px;
            font-family: 'El Messiri', serif;
        }
        
        .connection-info {
            background: linear-gradient(45deg, rgba(76, 217, 100, 0.1), rgba(0, 180, 216, 0.1));
            border-radius: 20px;
            padding: 20px;
            margin-top: 30px;
            border: 1px solid rgba(76, 217, 100, 0.2);
        }
        
        .progress-container {
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            height: 15px;
            border-radius: 10px;
            margin: 40px 0 30px;
            overflow: hidden;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.3);
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
            border-radius: 10px;
            width: 0%;
            transition: width 1.5s ease;
            position: relative;
            overflow: hidden;
        }
        
        .message-container {
            background: linear-gradient(45deg, rgba(106, 17, 203, 0.1), rgba(37, 117, 252, 0.1));
            border-radius: 20px;
            padding: 25px;
            margin: 40px 0;
            border-left: 5px solid var(--primary);
            border-right: 5px solid var(--secondary);
            position: relative;
            overflow: hidden;
        }
        
        .message {
            font-size: 1.8rem;
            color: #b8e2ff;
            line-height: 1.6;
            font-family: 'El Messiri', serif;
            position: relative;
            z-index: 1;
        }
        
        .additional-stats {
            margin-top: 60px;
            padding-top: 40px;
            border-top: 2px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }
        
        .footer {
            margin-top: 40px;
            color: #8a8a9e;
            font-size: 1.1rem;
            text-align: center;
            padding: 20px;
            width: 100%;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .moon-icon {
            font-size: 4rem;
            color: var(--secondary);
            margin-bottom: 30px;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
            100% { transform: translateY(0); }
        }
        
        @media (max-width: 768px) {
            .love-message {
                font-size: 1.6rem;
            }
            
            .love-title {
                font-size: 2rem;
            }
            
            .love-btn {
                padding: 12px 25px;
                font-size: 1.1rem;
            }
        }
        
        @media (max-width: 480px) {
            .love-message {
                font-size: 1.4rem;
            }
            
            .love-title {
                font-size: 1.8rem;
            }
            
            .love-btn {
                padding: 10px 20px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="date-badge">المؤقت النشط</div>
        
        <div class="header">
            <div class="moon-icon">
                <i class="fas fa-moon"></i>
            </div>
            <h1>العد التنازلي الليلي</h1>
            <p class="subtitle">من منتصف ليلة مميزة حتى هذه اللحظة</p>
            
            <div class="target-date">
                20 June 2025 - 1:58 AM
            </div>
        </div>
        
        <!-- قسم توقيت القاهرة وعداد الاتصال -->
        <div class="time-sections">
            <!-- توقيت القاهرة -->
            <div class="time-section">
                <h2 class="time-section-title cairo-time">
                    <i class="fas fa-clock"></i> الوقت في القاهرة
                </h2>
                
                <div class="digital-clock" id="cairo-time">
                    00:00:00
                </div>
                
                <div class="digital-date" id="cairo-date">
                    جاري التحميل...
                </div>
            </div>
            
            <!-- عداد الاتصال -->
            <div class="time-section">
                <h2 class="time-section-title connection-time">
                    <i class="fas fa-user-crown"></i> مدة الاتصال
                </h2>
                
                <div class="digital-clock" id="connection-time">
                    00:00:00
                </div>
                
                <div class="digital-date" id="connection-date">
                    جاري التحميل...
                </div>
            </div>
        </div>
        
        <!-- قسم رسائل قطتي -->
        <div class="love-section">
            <div class="cat-icon">
                <i class="fas fa-heart"></i>
            </div>
            
            <h2 class="love-title">
                <i class="fas fa-cat"></i> كلام لقطتي
            </h2>
            
            <div class="love-message-container">
                <div class="love-message" id="love-message">
                    يا حبيبتي يا قطتي، كل ما اشوفك بتبهج قلبي
                </div>
            </div>
            
            <div class="love-buttons">
                <button class="love-btn" id="new-message-btn">
                    <i class="fas fa-redo"></i> رسالة جديدة
                </button>
                
                <button class="love-btn love-btn-secondary" id="favorite-btn">
                    <i class="fas fa-heart"></i> حفظ المفضلة
                </button>
                
                <button class="love-btn" id="share-btn">
                    <i class="fas fa-share-alt"></i> مشاركة
                </button>
            </div>
            
            <div class="love-footer">
                <i class="fas fa-heart"></i> كل رسالة دي من القلب لقطتي الغالية <i class="fas fa-heart"></i>
            </div>
        </div>
        
        <!-- المؤقت الرئيسي -->
        <div class="timer-container">
            <div class="time-box">
                <div class="time-value" id="years">0</div>
                <div class="time-label">سنوات</div>
            </div>
            
            <div class="time-box">
                <div class="time-value" id="months">0</div>
                <div class="time-label">أشهر</div>
            </div>
            
            <div class="time-box">
                <div class="time-value" id="days">0</div>
                <div class="time-label">أيام</div>
            </div>
            
            <div class="time-box">
                <div class="time-value" id="hours">0</div>
                <div class="time-label">ساعات</div>
            </div>
            
            <div class="time-box">
                <div class="time-value" id="minutes">0</div>
                <div class="time-label">دقائق</div>
            </div>
            
            <div class="time-box">
                <div class="time-value" id="seconds">0</div>
                <div class="time-label">ثواني</div>
            </div>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        
        <div class="message-container">
            <div class="message" id="message">
                الوقت كالنهر يجري، فلا تنتظر على الضفة
            </div>
        </div>
    </div>
    
    <div class="footer">
        تم تصميم هذا المؤقت خصيصًا لعد الوقت المنقضي منذ ليلة 20 يونيو 2025 الساعة 1:58 صباحًا
        <br>كل لحظة تمر لا تعود، فاجعلها تهمة
    </div>

    <script>
        // التاريخ المحدد: 20 يونيو 2025 الساعة 1:58 صباحًا
        const targetDate = new Date('June 20, 2025 01:58:00').getTime();
        
        // وقت بدء الاتصال (يتم حفظه في localStorage)
        let connectionStartTime = localStorage.getItem('connectionStartTime');
        if (!connectionStartTime) {
            connectionStartTime = new Date().getTime();
            localStorage.setItem('connectionStartTime', connectionStartTime);
        } else {
            connectionStartTime = parseInt(connectionStartTime);
        }
        
        // عناصر DOM
        const yearsElement = document.getElementById('years');
        const monthsElement = document.getElementById('months');
        const daysElement = document.getElementById('days');
        const hoursElement = document.getElementById('hours');
        const minutesElement = document.getElementById('minutes');
        const secondsElement = document.getElementById('seconds');
        const progressBar = document.getElementById('progress-bar');
        const messageElement = document.getElementById('message');
        
        // عناصر توقيت القاهرة
        const cairoTimeElement = document.getElementById('cairo-time');
        const cairoDateElement = document.getElementById('cairo-date');
        
        // عناصر عداد الاتصال
        const connectionTimeElement = document.getElementById('connection-time');
        const connectionDateElement = document.getElementById('connection-date');
        
        // عناصر قسم رسائل قطتي
        const loveMessageElement = document.getElementById('love-message');
        const newMessageBtn = document.getElementById('new-message-btn');
        const favoriteBtn = document.getElementById('favorite-btn');
        const shareBtn = document.getElementById('share-btn');
        
        // رسائل حلوة بالعامية المصرية لـ "قطتي"
        const loveMessages = [
            "يا قطتي يا حبيبتي، عيني عليكي باردة وقلبي معاكي دايماً",
            "يا أجمل حاجة في حياتي، يوم ما أشوفك بتبهج قلبي وتخليني أنسى همومي",
            "يا روحي يا قطتي، كل ما أسمع صوتك بتبهج وبتفرح قلبي",
            "يا حبيبتي يا قطتي، إنتي نعمة ربنا في حياتي والله",
            "يا أغلى من عيني، والله مفيش في الدنيا أحلى منك",
            "يا قطتي الغالية، شوفتي قد إيه الدنيا بتتغير لما تكوني معايا",
            "يا حبيبتي، والله لو الدنيا كلها جت مفيش حاجة تعوضني عنك",
            "يا روحي يا قطتي، إنتي ضحكتي وفرحتي وكل حاجة حلوة في حياتي",
            "يا أغلى البشر، والله إنتي نعمة تستحق أقول عليها الحمد لله كل يوم",
            "يا حبيبتي يا قطتي، قلبي دايماً معاكي وفي حضنك",
            "يا أجمل هدية ربنا منحهالي في حياتي، والله ما استحقاكي",
            "يا قطتي، يومك جميل ووجودك في حياتي أجمل",
            "يا حبيبتي، كل ما أشوف عينيكي بتبهج وبتنسيني الدنيا وهمومها",
            "يا روحي يا قطتي، والله لو في تمن للسعادة كنت هدفعلكي فيه",
            "يا أغلى من الدنيا كلها، إنتي نور حياتي وحبي وقلبي",
            "يا قطتي، صوتك أحلى ميزيكا وعينيكي أجمل منظر شفته في حياتي",
            "يا حبيبتي، إنتي مش بس قطتي، إنتي دنيتي وكل حاجة في حياتي",
            "يا روحي، لو في حب حقيقي في الدنيا فإنتي أكتر واحدة تستحقيه",
            "يا قطتي الغالية، إنتي الفرح اللي جيلي من حيث ما ماكنتش أتوقع",
            "يا حبيبتي، والله إنتي أكتر حاجة بعتز بيها في حياتي",
            "يا روحي يا قطتي، شوفتي قد إيه بحبك؟ بحبك أكتر من أي حاجة في الدنيا",
            "يا أغلى من عمري، إنتي مش مجرد حب، إنتي حياتي كلها",
            "يا قطتي، يومك يعدي وأنا مفكر فيك وبقول يا رب تحفظي لي",
            "يا حبيبتي، لو في جنة على الأرض فإنتي اللي عاملاها جنة",
            "يا روحي، إنتي الحب الحقيقي اللي كنت بتمناه وربنا كرمني بيكي",
            "يا قطتي، بحبك والله بحبك أكتر ما تتخيلي",
            "يا حبيبتي، إنتي أحلى من القمر وأجمل من النجوم",
            "يا روحي يا قطتي، والله الدنيا كلها ما تساوي ابتسامتك",
            "يا أغلى إنسان، إنتي مش بس حبيبتي، إنتي صحبتي وصاحبتي ورفيقتي",
            "يا قطتي، يومك يعدي وأنا بأفكر فيك وبدعي ربنا يحفظك لي"
        ];
        
        // رسائل مفضلة
        let favoriteMessages = JSON.parse(localStorage.getItem('favoriteLoveMessages')) || [];
        
        // جمل متنوعة للمؤقت
        const messages = [
            "الوقت كالنهر يجري، فلا تنتظر على الضفة",
            "ليس المهم كم من الوقت مر، بل ماذا صنعت في الوقت الذي مر",
            "اللحظات الصغيرة تصنع حياة كبيرة",
            "الماضي ذاكرة، والمستقبل أمل، والحاضر هدية لذلك سمي الحاضر",
            "لا تنتظر الوقت المناسب، اصنع الوقت المناسب"
        ];
        
        // دالة لتحويل التاريخ إلى نص عربي
        function toArabicDate(date) {
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric'
            };
            return date.toLocaleDateString('ar-SA', options);
        }
        
        // دالة للحصول على الوقت في توقيت القاهرة (UTC+2)
        function getCairoTime() {
            const now = new Date();
            // توقيت القاهرة هو UTC+2
            const cairoOffset = 2 * 60; // دقائق
            const localOffset = now.getTimezoneOffset(); // دقائق
            const cairoTime = new Date(now.getTime() + (cairoOffset + localOffset) * 60000);
            return cairoTime;
        }
        
        // دالة لتنسيق الوقت (إضافة صفر للأرقام أقل من 10)
        function formatTime(num) {
            return num < 10 ? '0' + num : num;
        }
        
        // دالة لتحديث توقيت القاهرة
        function updateCairoTime() {
            const cairoTime = getCairoTime();
            
            // تحديث الساعة الرقمية
            const hours = formatTime(cairoTime.getHours());
            const minutes = formatTime(cairoTime.getMinutes());
            const seconds = formatTime(cairoTime.getSeconds());
            cairoTimeElement.textContent = `${hours}:${minutes}:${seconds}`;
            
            // تحديث التاريخ
            cairoDateElement.textContent = toArabicDate(cairoTime);
        }
        
        // دالة لتحديث عداد الاتصال
        function updateConnectionTime() {
            const now = new Date().getTime();
            const connectionDuration = now - connectionStartTime;
            
            // حساب المدة
            const connectionHours = Math.floor(connectionDuration / (1000 * 60 * 60));
            const connectionMinutes = Math.floor((connectionDuration % (1000 * 60 * 60)) / (1000 * 60));
            const connectionSeconds = Math.floor((connectionDuration % (1000 * 60)) / 1000);
            
            // تحديث الساعة الرقمية
            connectionTimeElement.textContent = 
                `${formatTime(connectionHours)}:${formatTime(connectionMinutes)}:${formatTime(connectionSeconds)}`;
            
            // تحديث وصف مدة الاتصال
            let durationText = '';
            if (connectionHours > 0) {
                durationText = `${connectionHours} ساعة و ${connectionMinutes} دقيقة و ${connectionSeconds} ثانية`;
            } else if (connectionMinutes > 0) {
                durationText = `${connectionMinutes} دقيقة و ${connectionSeconds} ثانية`;
            } else {
                durationText = `${connectionSeconds} ثانية`;
            }
            connectionDateElement.textContent = `الاتصال مستمر منذ ${durationText}`;
        }
        
        // دالة لعرض رسالة عشوائية جديدة
        function showRandomLoveMessage() {
            const randomIndex = Math.floor(Math.random() * loveMessages.length);
            const message = loveMessages[randomIndex];
            
            // تأثير التلاشي
            loveMessageElement.style.opacity = '0';
            setTimeout(() => {
                loveMessageElement.textContent = message;
                loveMessageElement.style.opacity = '1';
            }, 300);
            
            return message;
        }
        
        // دالة لحفظ الرسالة الحالية في المفضلة
        function saveCurrentMessageToFavorites() {
            const currentMessage = loveMessageElement.textContent;
            
            if (!favoriteMessages.includes(currentMessage)) {
                favoriteMessages.push(currentMessage);
                localStorage.setItem('favoriteLoveMessages', JSON.stringify(favoriteMessages));
                
                // تغيير زر المفضلة مؤقتًا للإشارة إلى النجاح
                const originalHTML = favoriteBtn.innerHTML;
                favoriteBtn.innerHTML = '<i class="fas fa-check"></i> تم الحفظ';
                favoriteBtn.style.background = 'linear-gradient(45deg, #4cd964, #2ecc71)';
                
                setTimeout(() => {
                    favoriteBtn.innerHTML = originalHTML;
                    favoriteBtn.style.background = '';
                }, 2000);
            } else {
                // الرسالة موجودة بالفعل
                const originalHTML = favoriteBtn.innerHTML;
                favoriteBtn.innerHTML = '<i class="fas fa-info-circle"></i> موجودة بالفعل';
                favoriteBtn.style.background = 'linear-gradient(45deg, #ff9500, #ffaa33)';
                
                setTimeout(() => {
                    favoriteBtn.innerHTML = originalHTML;
                    favoriteBtn.style.background = '';
                }, 2000);
            }
        }
        
        // دالة لمشاركة الرسالة الحالية
        function shareCurrentMessage() {
            const currentMessage = loveMessageElement.textContent;
            const shareText = `رسالة لقطتي: "${currentMessage}" ❤`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'رسالة لقطتي',
                    text: shareText,
                    url: window.location.href
                });
            } else {
                // نسخ إلى الحافظة
                navigator.clipboard.writeText(shareText).then(() => {
                    const originalHTML = shareBtn.innerHTML;
                    shareBtn.innerHTML = '<i class="fas fa-check"></i> تم النسخ';
                    shareBtn.style.background = 'linear-gradient(45deg, #9b59b6, #8e44ad)';
                    
                    setTimeout(() => {
                        shareBtn.innerHTML = originalHTML;
                        shareBtn.style.background = '';
                    }, 2000);
                });
            }
        }
        
        // تحديث العداد كل ثانية
        const timer = setInterval(function() {
            // الوقت الحالي
            const now = new Date().getTime();
            
            // الفرق بين الوقت الحالي والتاريخ المحدد
            const distance = now - targetDate;
            
            // إذا كان التاريخ المحدد في المستقبل (نعرض الصفر)
            if (distance < 0) {
                yearsElement.innerHTML = "0";
                monthsElement.innerHTML = "0";
                daysElement.innerHTML = "0";
                hoursElement.innerHTML = "0";
                minutesElement.innerHTML = "0";
                secondsElement.innerHTML = "0";
                progressBar.style.width = "0%";
                messageElement.innerHTML = "التاريخ المحدد لم يأت بعد! استعد لهذه اللحظة";
                return;
            }
            
            // حساب الوقت المنقضي
            const years = Math.floor(distance / (1000 * 60 * 60 * 24 * 365.25));
            const months = Math.floor((distance % (1000 * 60 * 60 * 24 * 365.25)) / (1000 * 60 * 60 * 24 * 30.44));
            const days = Math.floor((distance % (1000 * 60 * 60 * 24 * 30.44)) / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            
            // تحديث القيم في الصفحة
            yearsElement.innerHTML = years;
            monthsElement.innerHTML = months;
            daysElement.innerHTML = days;
            hoursElement.innerHTML = hours;
            minutesElement.innerHTML = minutes;
            secondsElement.innerHTML = seconds;
            
            // تحديث شريط التقدم
            const maxDays = 3 * 365;
            const elapsedDays = years * 365 + months * 30.44 + days;
            const progressPercentage = Math.min((elapsedDays / maxDays) * 100, 100);
            progressBar.style.width = progressPercentage + "%";
            
            // تحديث الرسالة كل 15 ثانية
            if (seconds % 15 === 0) {
                const randomIndex = Math.floor(Math.random() * messages.length);
                messageElement.innerHTML = messages[randomIndex];
                
                // تأثير تغيير الرسالة
                messageElement.style.opacity = '0';
                setTimeout(() => {
                    messageElement.style.opacity = '1';
                }, 300);
            }
            
            // تحديث توقيت القاهرة
            updateCairoTime();
            
            // تحديث عداد الاتصال
            updateConnectionTime();
            
        }, 1000);
        
        // إعداد الأحداث للأزرار
        newMessageBtn.addEventListener('click', showRandomLoveMessage);
        favoriteBtn.addEventListener('click', saveCurrentMessageToFavorites);
        shareBtn.addEventListener('click', shareCurrentMessage);
        
        // تشغيل المؤقت فور تحميل الصفحة
        window.onload = function() {
            timer;
            
            // تحديث توقيت القاهرة فور التحميل
            updateCairoTime();
            
            // تحديث عداد الاتصال فور التحميل
            updateConnectionTime();
            
            // عرض رسالة عشوائية أولية
            showRandomLoveMessage();
            
            // تغيير الرسالة تلقائياً كل 30 ثانية
            setInterval(showRandomLoveMessage, 30000);
            
            // إضافة تأثيرات عند التحميل
            const timeBoxes = document.querySelectorAll('.time-box');
            timeBoxes.forEach((box, index) => {
                box.style.transform = 'translateY(30px)';
                box.style.opacity = '0';
                setTimeout(() => {
                    box.style.transition = 'all 0.6s ease';
                    box.style.transform = 'translateY(0)';
                    box.style.opacity = '1';
                }, 100 * index);
            });
        };
    </script>
</body>
</html>
